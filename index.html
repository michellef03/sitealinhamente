<!DOCTYPE html>
<html lang="pt-br">
<head>
  <!-- Consent Mode -->
 <script src="https://web.cmp.usercentrics.eu/modules/autoblocker.js"></script>
 <script id="usercentrics-cmp" src="https://web.cmp.usercentrics.eu/ui/loader.js" data-settings-id="UEq1lMS8qdu2hB" async></script>
  <!-- Consent Mode -->
 <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-WXNPB33F');</script>
    <!-- End Google Tag Manager -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AlinhaMente</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Google Fonts (Inter) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    /* Paleta e tipografia */
    body {
      font-family: 'Inter', sans-serif;
      background-color: #ffffff;
      color: #333;
      padding-top: 90px;
      line-height: 1.6;
    }
    a { text-decoration: none; color: inherit; }
    /* Banner no topo */
    .banner {
      width: 100%;
      margin-bottom: 20px;
    }
    /* NavBar */
    .navbar {
      background-color: #f7f7f7;
      border-bottom: 1px solid #e5e5e5;
    }
    .navbar-brand {
      font-weight: 700;
      font-size: 1.5rem;
      letter-spacing: 1px;
    }
    .nav-link { font-weight: 500; }
    /* Cabe√ßalho principal */
    .header-title {
      text-align: center;
      margin-bottom: 5px;
      font-size: 2.5rem;
      font-weight: 700;
      letter-spacing: 1px;
    }
    .header-subtitle {
      text-align: center;
      margin-bottom: 30px;
      font-size: 1.1rem;
      color: #555;
    }
    /* Box colaps√°vel do lembrete */
    .lembrete-card {
      background-color: #f0f9ff;
      border: 1px solid #cce5ff;
      border-radius: 8px;
      margin-bottom: 20px;
    }
    .lembrete-card .card-header {
      background-color: #d0e7fd;
      padding: 12px 16px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .lembrete-card .card-header h5 {
      margin: 0;
      font-weight: 700;
      font-size: 1.1rem;
    }
    .lembrete-card .card-body {
      padding: 16px;
      font-size: 0.95rem;
      color: #555;
    }
    /* Caixa do m√©todo P.A.R.E. */
    .pare-metodo {
      background-color: #ece8fe;
      border: 1px solid #c3d2f5;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 20px;
      font-size: 0.95rem;
      color: #444;
    }
    /* Tabela de entrada com coluna "Dimens√£o" */
    #formTable {
      background-color: #fdfdfd;
    }
    #formTable th:nth-child(5)::after {
      content: "";
      font-size: 0.85rem;
      color: #777;
    }
    /* Cart√µes e blocos */
    .card, .resultado-geral, .grupo-result, .item-result {
      border-radius: 8px;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .card:hover, .grupo-result:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }
    .resultado-geral {
      padding: 25px;
      background-color: #fafafa;
      margin-bottom: 40px;
      border: 1px solid #eaeaea;
    }
    .grupo-result {
      padding: 20px;
      background-color: #fff;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
      margin-bottom: 20px;
    }
    .item-result {
      padding: 12px;
      border-left: 5px solid #ccc;
      background-color: #fcfcfc;
      margin-top: 10px;
    }
    /* Bot√µes */
    .btn {
      transition: background-color 0.2s, box-shadow 0.2s;
    }
    .btn:hover {
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    /* Se√ß√£o "Por Onde Come√ßar" */
    .por-onde-comecar { margin-bottom: 40px; }
    .por-onde-comecar h3 { margin-bottom: 25px; font-weight: 500; }
    .explicativo { font-size: 0.9em; color: #777; margin-bottom: 10px; }
    .card .conteudo-lista { margin-bottom: 10px; }
    /* Bloco do M√©todo P.A.R.E. expans√≠vel */
    .pare-info {
      background-color: #fff7e6;
      border: 1px solid #ffe5b4;
      border-radius: 8px;
      margin-bottom: 40px;
    }
    .pare-info .card-header {
      background-color: #ffe5b4;
      padding: 12px 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
    }
    .pare-info .card-header h5 {
      margin: 0;
      font-weight: 700;
      font-size: 1.1rem;
    }
    .pare-info .card-body {
      padding: 16px;
      font-size: 0.95rem;
      color: #555;
    }
    /* Indicador visual para grupos */
    .grupo-indicador {
      font-size: 1.2rem;
      margin-left: 8px;
    }
    /* Detalhes por Grupo */
    .detalhes-title { margin-top: 50px; }
    /* Footer */
    footer {
      font-size: 0.9rem;
      color: #777;
      border-top: 1px solid #eaeaea;
      padding: 15px 0;
      text-align: center;
      margin-top: 40px;
    }
    /* Estilos para resultado principal */
    .resultado-geral img { border-radius: 8px; }
    .medias {
      color: #777;
      font-size: 0.85rem;
      margin-top: 10px;
    }
    .resultado-principal h2 {
      font-size: 2rem;
      font-weight: 700;
    }
    .resultado-principal p {
      font-size: 1.1rem;
      margin-top: 10px;
    }
  </style>
</head>
<body>
   <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WXNPB33F"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
  <!-- Banner do site -->
  <div class="container-fluid p-0">
    <img src="https://raw.githubusercontent.com/michellef03/alinhamente/main/Banner_PNG.png" alt="Banner do AlinhaMente" class="banner img-fluid">
  </div>

  <!-- NavBar -->
  <nav class="navbar navbar-expand-lg fixed-top">
    <div class="container">
      <a class="navbar-brand" href="index.html">AlinhaMente</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample07">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarsExample07">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="sobre.html">Sobre o teste</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="quemSouEu.html">Quem sou eu</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="teste.html">Teste</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container mt-5 pt-5">
    <!-- Cabe√ßalho -->
    <h2 class="header-title text-center">Fa√ßa o teste AlinhaMente</h2>
    <p class="header-subtitle text-center">
      Basta preencher os campos abaixo e clicar em VER RESULTADOS. Para mais informa√ß√µes sobre como analisar os resultados, conhe√ßa a s√©rie completa do m√©todo no canal <a href="https://www.youtube.com/@LongaHistoriaCurta" target="_blank" style="color: blue; text-decoration: underline;">Longa Hist√≥ria Curta</a>.
    </p>
    
    <!-- Box colaps√°vel do lembrete -->
    <div class="lembrete-card mb-4">
      <div class="card-header" data-bs-toggle="collapse" data-bs-target="#lembreteCollapse" aria-expanded="false" aria-controls="lembreteCollapse">
        <h5 class="mb-0">üß≠ Antes de tudo, um lembrete importante <button class="btn btn-sm btn-outline-primary ms-3">Clique para ver mais</button></h5>
      </div>
      <div class="collapse" id="lembreteCollapse">
        <div class="card-body">
          Esse teste n√£o √© uma ferramenta cient√≠fica, nem uma tentativa de te dizer o que fazer da sua vida. A vida √© complexa ‚Äî e o contexto de cada pessoa s√≥ ela mesma conhece. O que voc√™ vai ver aqui √© um mapa simples, <strong>constru√≠do com base nas suas pr√≥prias percep√ß√µes</strong>, pra te ajudar a refletir com mais clareza sobre onde sua energia tem ido ‚Äî e se isso t√° fazendo sentido pra voc√™ hoje.
        </div>
      </div>
    </div>

    <!-- Caixa do m√©todo P.A.R.E. -->
    <div class="pare-metodo mb-4">
      <p>üå± Este teste faz parte do m√©todo <strong>P.A.R.E.</strong><br><br>
         O AlinhaMente √© a primeira etapa do meu m√©todo <strong>P.A.R.E.</strong> ‚Äî um convite pra voc√™ Parar, Avaliar, Roteirizar e Estabilizar seus objetivos com mais clareza e inten√ß√£o.<br><br>
         Esse teste existe pra te ajudar a parar e olhar com honestidade pra sua vida hoje: o que √© importante, como voc√™ se sente e onde sua energia tem ido. Ele n√£o d√° respostas prontas ‚Äî mas oferece um <strong>mapa inicial</strong> pra te guiar nesse processo de reconex√£o com voc√™ mesmo.<br><br>
         Se quiser seguir pro pr√≥ximo passo, conhe√ßa a s√©rie completa do m√©todo no canal <a href="https://www.youtube.com/@LongaHistoriaCurta" target="_blank" style="color: blue; text-decoration: underline;">Longa Hist√≥ria Curta</a>.
      </p>
    </div>

    <!-- Tabela de entrada -->
    <div class="card mb-4">
      <div class="card-body">
        <table id="formTable" class="table table-bordered">
          <thead class="table-light">
            <tr>
              <th>Dimens√£o</th>
              <th>√Årea</th>
              <th>Import√¢ncia</th>
              <th>Satisfa√ß√£o</th>
              <th>Tempo Investido</th>
              <th>Estado atual</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
        <div class="d-grid">
          <button id="btnCalcular" class="btn btn-primary">Ver Resultados</button>
        </div>
      </div>
    </div>

    <!-- √Årea de resultados -->
    <div id="resultados"></div>
  </div>
  
  <!-- Footer -->
  <footer>
    ¬© 2024 Longa Hist√≥ria Curta ‚Äî Criado por Michelle como parte do m√©todo P.A.R.E.<br>
    Todos os direitos reservados. Este teste √© uma ferramenta de autoconhecimento, n√£o substitui diagn√≥stico profissional.
  </footer>

  <!-- Bootstrap Bundle (inclui Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Vari√°veis globais
    const areas = [
      { grupo: "V√≠nculos", itens: ["Rede de Apoio", "Relacionamento Afetivo"] },
      { grupo: "Independ√™ncia", itens: ["Finan√ßas pessoais", "Confian√ßa nas decis√µes"] },
      { grupo: "Dire√ß√£o", itens: ["Ocupa√ß√£o principal", "Desenvolvimento de Habilidades"] },
      { grupo: "Acolhimento", itens: ["Sa√∫de F√≠sica", "Sa√∫de Mental"] }
    ];

    const opcoes = `
      <option value="">Escolha aqui</option>
      <option value="1">1 - Nada</option>
      <option value="2">2 - Um pouco</option>
      <option value="3">3 - Razo√°vel</option>
      <option value="4">4 - Bastante</option>
      <option value="5">5 - Totalmente</option>
    `;

    // Textos dos itens
    const textos = {
      "Rede de Apoio": {
        "Equilibrado": "Rede de Apoio equilibrada.",
        "Negligenciado": "Rede de Apoio importante, mas pouco investimento.",
        "Baixo retorno": "Rede de Apoio com esfor√ßo alto e pouco retorno.",
        "Conflito interno": "Rede de Apoio com tens√£o interna."
      },
      "Relacionamento Afetivo": {
        "Equilibrado": "Relacionamento est√°vel e satisfat√≥rio.",
        "Negligenciado": "Relacionamento afetivo importante, por√©m negligenciado.",
        "Baixo retorno": "Muito investimento, mas pouca reciprocidade.",
        "Conflito interno": "Desalinhamento no relacionamento afetivo."
      },
      "Finan√ßas pessoais": {
        "Equilibrado": "Finan√ßas em ordem e bem gerenciadas.",
        "Negligenciado": "Finan√ßas s√£o importantes, mas t√™m sido deixadas de lado.",
        "Baixo retorno": "Muito esfor√ßo financeiro, mas pouco retorno efetivo.",
        "Conflito interno": "Conflito interno com rela√ß√£o ao dinheiro."
      },
      "Confian√ßa nas decis√µes": {
        "Equilibrado": "Voc√™ toma decis√µes com seguran√ßa.",
        "Negligenciado": "Voc√™ valoriza a autonomia, mas tem se sentido inseguro.",
        "Baixo retorno": "Voc√™ se esfor√ßa para decidir, mas n√£o tem confian√ßa no resultado.",
        "Conflito interno": "H√° tens√£o ao tomar decis√µes importantes."
      },
      "Ocupa√ß√£o principal": {
        "Equilibrado": "Sua ocupa√ß√£o principal est√° alinhada √†s suas expectativas.",
        "Negligenciado": "Voc√™ valoriza trabalho/estudo, mas n√£o est√° investindo o suficiente.",
        "Baixo retorno": "Dedica√ß√£o alta, mas satisfa√ß√£o baixa.",
        "Conflito interno": "Conflito entre o que voc√™ faz e o que realmente quer."
      },
      "Desenvolvimento de Habilidades": {
        "Equilibrado": "Voc√™ cresce e aprende constantemente.",
        "Negligenciado": "Voc√™ quer se desenvolver, mas pouco se dedica a isso.",
        "Baixo retorno": "Voc√™ estuda/pratica bastante, mas n√£o v√™ resultados.",
        "Conflito interno": "Tens√£o entre seu potencial e suas a√ß√µes."
      },
      "Sa√∫de F√≠sica": {
        "Equilibrado": "Cuidados com o corpo em dia.",
        "Negligenciado": "O corpo √© importante, mas tem sido negligenciado.",
        "Baixo retorno": "Exerc√≠cio com pouco retorno.",
        "Conflito interno": "Tens√£o no cuidado f√≠sico."
      },
      "Sa√∫de Mental": {
        "Equilibrado": "Mente em equil√≠brio e bem-estar.",
        "Negligenciado": "A sa√∫de mental √© importante, mas tem sido deixada de lado.",
        "Baixo retorno": "Esfor√ßo emocional sem melhora.",
        "Conflito interno": "Conflitos emocionais persistem."
      }
    };

    // ARQU√âTIPOS ‚Äì baseados em diffVI (mV - mI) e diffDA (mD - mA)
    const arquetipoTextos = {
      "Conex√£o e a√ß√£o": `<p>Voc√™ se sente mais nutrido pelos v√≠nculos e pelas rela√ß√µes do que pela sua autonomia pessoal. Tamb√©m se sente mais satisfeito com sua dire√ß√£o atual ‚Äî como trabalho, projetos e metas ‚Äî do que com o cuidado com o seu bem-estar. Pode ser que esteja em movimento, com boa rede ao redor, mas deixando o autocuidado um pouco de lado.<br>
      Voc√™ tem garra e companhia. S√≥ n√£o esque√ßa que at√© o lobo mais forte precisa de pausa.</p>`,
      "Conex√£o e pausa": `<p>Voc√™ se percebe mais satisfeito com suas rela√ß√µes e com o cuidado emocional que tem recebido ‚Äî ou se permitido cultivar. Por outro lado, sente menos satisfa√ß√£o em rela√ß√£o √† sua autonomia e ao seu momento de atua√ß√£o pr√°tica, como trabalho, metas ou decis√µes pessoais. √â como se as pausas, os v√≠nculos e o acolhimento estivessem mais presentes do que o movimento. Pode ser um momento de introspec√ß√£o ‚Äî ou uma fase de recolhimento para se fortalecer.<br>
      Voc√™ criou ra√≠zes afetivas e tem se escutado com carinho. Agora, como a coruja que desperta √† noite, talvez seja hora de mover o que est√° parado.</p>`,
      "Autonomia em movimento": `<p>Voc√™ demonstra maior satisfa√ß√£o com sua autonomia pessoal ‚Äî sente que tem controle sobre suas decis√µes e recursos. Tamb√©m se percebe mais alinhado com sua dire√ß√£o atual, como trabalho, metas e projetos. Por outro lado, v√≠nculos afetivos e o cuidado consigo mesmo parecem estar em segundo plano. Essa configura√ß√£o pode indicar um momento de foco e performance, mas n√£o se esque√ßa de cuidar tamb√©m do lado emocional.<br>
      Como uma √°guia em voo: voc√™ enxerga longe e voa alto ‚Äî s√≥ n√£o esque√ßa de pousar e se cuidar de vez em quando.</p>`,
      "Autonomia e recolhimento": `<p>Voc√™ demonstra maior satisfa√ß√£o com sua independ√™ncia e com o cuidado que tem dado a si mesmo. No entanto, v√≠nculos emocionais e conex√µes parecem estar mais distantes ou insatisfat√≥rios neste momento. Essa combina√ß√£o sugere introspec√ß√£o e preserva√ß√£o.<br>
      Como uma baleia em √°guas profundas: voc√™ se fortalece no sil√™ncio ‚Äî mas lembre-se que, de vez em quando, √© preciso subir para respirar.</p>`
    };

    // Imagens dos ARQU√âTIPOS
    const arquetipoImages = {
      "Conex√£o e a√ß√£o": "https://raw.githubusercontent.com/michellef03/alinhamente/main/LOBO.png",
      "Conex√£o e pausa": "https://raw.githubusercontent.com/michellef03/alinhamente/main/CORUJA.PNG",
      "Autonomia em movimento": "https://raw.githubusercontent.com/michellef03/alinhamente/main/AGUIA.png",
      "Autonomia e recolhimento": "https://raw.githubusercontent.com/michellef03/alinhamente/main/BALEIA.PNG"
    };

    // SUBARQU√âTIPOS ‚Äì 7 subarqu√©tipos
    const subArquetipoTextos = {
      "Falta de Autonomia e Dire√ß√£o": `<p>Voc√™ sente que n√£o est√° no controle das suas escolhas ‚Äî e tamb√©m n√£o tem clareza sobre pra onde est√° indo. Isso gera frustra√ß√£o, especialmente porque essas √°reas importam para voc√™. Talvez o primeiro passo n√£o seja decidir tudo, mas recuperar pequenos espa√ßos de escolha.</p>`,
      "Falta de Conex√£o Social": `<p>Voc√™ sinalizou que suas rela√ß√µes de apoio s√£o importantes, mas n√£o t√™m trazido a satisfa√ß√£o necess√°ria. Esse vazio pode impactar outras √°reas. Buscar apoio ou criar novos espa√ßos de troca pode fazer a diferen√ßa.</p>`,
      "Em transi√ß√£o de prioridades": `<p>Voc√™ est√° vivendo um momento em que duas ou mais dimens√µes apresentam baixa satisfa√ß√£o (‚â§2) com alta import√¢ncia (‚â•4). Isso indica que suas prioridades est√£o mudando e √© hora de reavaliar onde investir sua energia.</p>`,
      "Contradi√ß√µes Ativas": `<p>Suas respostas mostram contrastes fortes dentro da mesma √°rea da vida ‚Äî como se uma parte estivesse funcionando bem e outra estivesse em conflito. Essas tens√µes internas podem gerar confus√£o, cansa√ßo ou indecis√£o. Reorganizar suas prioridades pode trazer mais paz.</p>`,
      "Produtividade Vazia": `<p>Voc√™ tem dedicado bastante tempo a √°reas importantes, mas sua satisfa√ß√£o √© baixa (satisfa√ß√£o ‚â§2). Isso indica um descompasso entre esfor√ßo e retorno. Talvez seja hora de redirecionar sua energia ou ajustar suas expectativas.</p>`,
      "Inten√ß√£o sem A√ß√£o": `<p>Voc√™ identificou √°reas importantes para voc√™, mas que t√™m recebido pouca aten√ß√£o pr√°tica (tempo investido ‚â§2). Existe inten√ß√£o, mas ela ainda n√£o virou movimento. Comece com pequenos passos.</p>`,
      "‚ú®Inten√ß√£o em A√ß√£o‚ú®": `<p>Voc√™ apresenta uma m√©dia de satisfa√ß√£o de pelo menos 4 em todas as dimens√µes, indicando que suas escolhas est√£o alinhadas com o que importa. Mantenha esse ritmo com leveza e consist√™ncia.</p>`
    };

    // Emojis para status dos itens
    const statusEmojis = {
      "Negligenciado": "‚ö†Ô∏è",
      "Baixo retorno": "ü•µ",
      "Conflito interno": "ü§î",
      "Equilibrado": "üíö"
    };

    // Indicador visual para grupos
    const grupoIndicadores = {
      "Equilibrado": "üíö",
      "Inst√°vel": "üü°",
      "Desequil√≠brio": "üî¥"
    };

    // Fun√ß√£o para criar a tabela de entrada
    function criarForm() {
      const tbody = document.querySelector('#formTable tbody');
      let linhas = '';
      areas.forEach(area => {
        area.itens.forEach((item, index) => {
          linhas += `<tr data-area="${item}">`;
          if (index === 0) { 
            linhas += `<td rowspan="${area.itens.length}">${area.grupo}</td>`;
          }
          linhas += `
            <td>${item}</td>
            <td><select class="form-select">${opcoes}</select></td>
            <td><select class="form-select">${opcoes}</select></td>
            <td><select class="form-select">${opcoes}</select></td>
            <td class="status"></td>
          </tr>`;
        });
      });
      tbody.innerHTML = linhas;
    }

    // Fun√ß√£o para verificar se todos os selects foram preenchidos
    function allFieldsFilled() {
      const rows = document.querySelectorAll('#formTable tbody tr');
      let filled = true;
      rows.forEach(row => {
        row.querySelectorAll('select').forEach(select => {
          if (!select.value) filled = false;
        });
      });
      return filled;
    }

    // Determina o status de cada item
    function getItemStatus(imp, sat, temp) {
      if (imp - temp >= 2) return "Negligenciado";
      if (temp - sat >= 2) return "Baixo retorno";
      if (imp - sat >= 2) return "Conflito interno";
      return "Equilibrado";
    }

    // Calcula o status global do grupo
    function getStatusGrupo(itensDoGrupo) {
      const totalEquilibrados = itensDoGrupo.filter(i => i.status === "Equilibrado").length;
      if (totalEquilibrados === itensDoGrupo.length) return "Equilibrado";
      if (totalEquilibrados > 0) return "Inst√°vel";
      return "Desequil√≠brio";
    }

    // Retorna a m√©dia de satisfa√ß√£o de um grupo
    function getMediaSatisfacao(itensDoGrupo) {
      const sats = itensDoGrupo.map(i => i.sat);
      return sats.reduce((a, b) => a + b, 0) / sats.length;
    }

    // Fun√ß√£o para calcular o ARQU√âTIPO com base em diffVI e diffDA
    function getArquetipo(diffVI, diffDA) {
      if (diffVI > 0 && diffDA > 0) return "Conex√£o e a√ß√£o";
      if (diffVI > 0 && diffDA < 0) return "Conex√£o e pausa";
      if (diffVI < 0 && diffDA > 0) return "Autonomia em movimento";
      return "Autonomia e recolhimento";
    }

    // Fun√ß√£o para calcular os SUBARQU√âTIPOS e retornar um array com os r√≥tulos
    function calcularSubArquetipo() {
      let matched = [];
      const rows = document.querySelectorAll('#formTable tbody tr');
      // Agrupa os dados por dimens√£o
      let satDim = { V√≠nculos: [], Independ√™ncia: [], Dire√ß√£o: [], Acolhimento: [] };
      let impDim = { V√≠nculos: [], Independ√™ncia: [], Dire√ß√£o: [], Acolhimento: [] };
      let tempDim = { V√≠nculos: [], Independ√™ncia: [], Dire√ß√£o: [], Acolhimento: [] };
      rows.forEach(row => {
        const areaName = row.getAttribute('data-area');
        let macro = "";
        areas.forEach(a => { if (a.itens.includes(areaName)) macro = a.grupo; });
        const selects = row.querySelectorAll('select');
        const imp = Number(selects[0].value);
        const sat = Number(selects[1].value);
        const temp = Number(selects[2].value);
        satDim[macro].push(sat);
        impDim[macro].push(imp);
        tempDim[macro].push(temp);
      });
      // Fun√ß√£o auxiliar para m√©dia
      function media(arr) {
        return arr.reduce((acc, n) => acc + n, 0) / arr.length;
      }
      let mV = media(satDim["V√≠nculos"]);
      let mI = media(satDim["Independ√™ncia"]);
      let mD = media(satDim["Dire√ß√£o"]);
      let mA = media(satDim["Acolhimento"]);

      // Fun√ß√£o auxiliar para m√©dia de import√¢ncia
      function mediaImp(dim) { 
        return media(impDim[dim]);
      }

      // 7. Inten√ß√£o em A√ß√£o: m√©dia de satisfa√ß√£o em todas as dimens√µes ‚â• 4
      if (mV >= 4 && mI >= 4 && mD >= 4 && mA >= 4) {
        matched.push("Inten√ß√£o em A√ß√£o");
      }
      // 1. Falta de Autonomia e Dire√ß√£o: Independ√™ncia ‚â§ 2 e Dire√ß√£o ‚â§ 2, com m√©dia de import√¢ncia ‚â• 4
      if (mI <= 2 && mD <= 2 && mediaImp("Independ√™ncia") >= 4 && mediaImp("Dire√ß√£o") >= 4) {
        matched.push("Falta de Autonomia e Dire√ß√£o");
      }
      // 2. Falta de Conex√£o Social: Apenas V√≠nculos apresenta sat ‚â§ 2 e m√©dia imp ‚â• 4, enquanto as outras t√™m sat > 2
      if (mV <= 2 && mediaImp("V√≠nculos") >= 4 && mI > 2 && mD > 2 && mA > 2) {
        matched.push("Falta de Conex√£o Social");
      }
      // 3. Em transi√ß√£o de prioridades: 2 ou mais dimens√µes com sat ‚â§ 2 e m√©dia imp ‚â• 4
      let contDim = 0;
      [["V√≠nculos", mV], ["Independ√™ncia", mI], ["Dire√ß√£o", mD], ["Acolhimento", mA]].forEach(pair => {
         let [dim, satM] = pair;
         if (satM <= 2 && mediaImp(dim) >= 4) contDim++;
      });
      if (contDim >= 2) {
         matched.push("Em transi√ß√£o de prioridades");
      }
      // 4. Contradi√ß√µes Ativas: diferen√ßa entre o valor m√°ximo e m√≠nimo das respostas em alguma dimens√£o ‚â• 3
      for (let macro in satDim) {
         if (satDim[macro].length > 1) {
             let minVal = Math.min(...satDim[macro]);
             let maxVal = Math.max(...satDim[macro]);
             if (maxVal - minVal >= 3) {
               matched.push("Contradi√ß√µes Ativas");
               break;
             }
         }
      }
      // 5. Produtividade Vazia: em 2 ou mais √°reas, Tempo Investido ‚â• 4 e Satisfa√ß√£o ‚â§ 2
      let pvCount = 0;
      rows.forEach(row => {
         const selects = row.querySelectorAll('select');
         const sat = Number(selects[1].value);
         const temp = Number(selects[2].value);
         if (temp >= 4 && sat <= 2) pvCount++;
      });
      if (pvCount >= 2) {
         matched.push("Produtividade Vazia");
      }
      // 6. Inten√ß√£o sem A√ß√£o: em 2 ou mais √°reas, Import√¢ncia ‚â• 4 e Tempo Investido ‚â§ 2
      let isaCount = 0;
      rows.forEach(row => {
         const selects = row.querySelectorAll('select');
         const imp = Number(selects[0].value);
         const temp = Number(selects[2].value);
         if (imp >= 4 && temp <= 2) isaCount++;
      });
      if (isaCount >= 2) {
         matched.push("Inten√ß√£o sem A√ß√£o");
      }
      return matched.length > 0 ? matched : ["Nenhum subtipo"];
    }

    // Fun√ß√£o para renderizar lista (usada na se√ß√£o "Por onde come√ßar")
    function renderLista(arr) {
      if (!arr || arr.length === 0) return `<p>Sem √°reas aqui</p>`;
      return `<ul>${arr.map(a => `<li>${a}</li>`).join("")}</ul>`;
    }

    // Fun√ß√£o para calcular os resultados por grupo e preparar o resumo para "Por onde come√ßar"
    function calculateGroupResults() {
      const resultadosPorGrupo = {};
      const resumo = { baixoRetorno: [], negligenciado: [], manter: [], conflito: [] };
      areas.forEach(area => {
        const itensDoGrupo = [];
        area.itens.forEach(item => {
          const row = document.querySelector(`tr[data-area="${item}"]`);
          const selects = row.querySelectorAll('select');
          const imp = Number(selects[0].value);
          const sat = Number(selects[1].value);
          const temp = Number(selects[2].value);
          const status = getItemStatus(imp, sat, temp);
          row.querySelector('.status').innerHTML = `${statusEmojis[status]} ${status}`;
          itensDoGrupo.push({ item, status, sat });
          switch(status) {
            case "Baixo retorno": resumo.baixoRetorno.push(item); break;
            case "Negligenciado": resumo.negligenciado.push(item); break;
            case "Equilibrado": resumo.manter.push(item); break;
            case "Conflito interno": resumo.conflito.push(item); break;
          }
        });
        const statusGrupo = getStatusGrupo(itensDoGrupo);
        const mediaSatisfacaoGrupo = getMediaSatisfacao(itensDoGrupo);
        resultadosPorGrupo[area.grupo] = { itens: itensDoGrupo, statusGrupo, media: mediaSatisfacaoGrupo };
      });
      return { resultadosPorGrupo, resumo };
    }

    // Fun√ß√£o para construir o HTML final dos resultados
    function buildFinalHtml(results, mV, mI, mD, mA, arquetipo, textoArquetipo, arqImg, subArquetipos, textoSubMap) {
      // Constr√≥i a lista de subarqu√©tipos com seus textos explicativos
      let subHtml = "";
      subArquetipos.forEach(key => {
        // Se n√£o houver texto para o subtipo (por exemplo, "Nenhum subtipo") n√£o exibe
        if(key === "Nenhum subtipo") {
          subHtml += `<p>${key}</p>`;
        } else {
          subHtml += `<p><strong>${key}</strong><br>${textoSubMap[key]}</p>`;
        }
      });

      let htmlContent = `
        <div class="resultado-geral">
          <div class="row">
            <div class="col-md-4">
              <img src="${arqImg}" class="img-fluid" alt="${arquetipo}">
            </div>
            <div class="col-md-8 resultado-principal text-center">
              <h2>${arquetipo}</h2>
              ${textoArquetipo}
              <div class="medias">(M√©dias: V√≠nculos=${mV.toFixed(1)}, Independ√™ncia=${mI.toFixed(1)}, Dire√ß√£o=${mD.toFixed(1)}, Acolhimento=${mA.toFixed(1)})</div>
              <div class="d-grid gap-2 mt-3">
                <button id="shareBtn" class="btn btn-secondary">Veja mais detalhes abaixo</button>
              </div>
            </div>
          </div>
        </div>
        
        <div class="resultado-geral">
          <div class="row">
            <div class="col-md-12 text-center">
              <h2>O que mais percebemos?</h2>
              ${subHtml}
            </div>
          </div>
        </div>
        
        <div class="por-onde-comecar mb-5">
          <h3>POR ONDE COME√áAR?</h3>
          <div class="row g-3 mb-4">
            <div class="col-md-6">
              <div class="card p-3 h-100">
                <h5>Etapa 1: Recuperar energia (Baixo retorno)</h5>
                <div id="etapa1">${renderLista(results.resumo.baixoRetorno)}</div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="card p-3 h-100">
                <h5>Etapa 2: Redirecionar inten√ß√£o (Negligenciadas)</h5>
                <div id="etapa2">${renderLista(results.resumo.negligenciado)}</div>
              </div>
            </div>
          </div>
          <div class="row g-3">
            <div class="col-md-6">
              <div class="card p-3 h-100">
                <h5>Manter! (√Åreas Equilibradas)</h5>
                <div class="conteudo-lista" id="manter">${renderLista(results.resumo.manter)}</div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="card p-3 h-100">
                <h5>√Åreas em conflito (Importantes, mas com baixa satisfa√ß√£o)</h5>
                <div class="conteudo-lista" id="conflito">${renderLista(results.resumo.conflito)}</div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="pare-info mb-5">
          <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center" data-bs-toggle="collapse" data-bs-target="#pareCollapse" aria-expanded="false" aria-controls="pareCollapse">
              <h5 class="mb-0">üå± Isso faz parte do M√©todo P.A.R.E. Entenda o m√©todo completo aqui</h5>
              <button class="btn btn-sm btn-outline-primary">Ver detalhes</button>
            </div>
            <div class="collapse" id="pareCollapse">
              <div class="card-body">
                <p>Criado por mim, o m√©todo P.A.R.E. √© um convite para viver com mais inten√ß√£o e menos no autom√°tico. √â uma forma de tomar decis√µes mais conscientes, alinhadas com o que importa para voc√™.</p>
                <p><strong>Cada letra representa um passo:</strong></p>
                <ul>
                  <li>üÖøÔ∏è Parar para pensar ‚Äî sair do piloto autom√°tico e ganhar clareza sobre sua realidade</li>
                  <li>üÖ∞Ô∏è Avaliar com honestidade ‚Äî entender onde voc√™ est√° e o que te falta</li>
                  <li>üÜÅ Roteirizar com inten√ß√£o ‚Äî criar um plano vi√°vel com base nos seus recursos</li>
                  <li>üÖ¥ Estabilizar com flexibilidade ‚Äî manter o que funciona e adaptar o que n√£o funcionar</li>
                </ul>
                <p>Esse teste √© um apoio para come√ßar a olhar com honestidade para sua vida.</p>
                <p><strong>‚ú® E depois?</strong></p>
<p>Ap√≥s identificar as √°reas que merecem mais cuidado, te convido a acompanhar a s√©rie completa do m√©todo no canal <a href="https://www.youtube.com/@LongaHistoriaCurta" target="_blank" style="color: blue; text-decoration: underline;">Longa Hist√≥ria Curta</a>.</p>              </div>
            </div>
          </div>
        </div>
        
        <h3 class="detalhes-title">Detalhes por Grupo</h3>
      `;
      let gruposHTML = "";
      let index = 0;
      for (const grupo in results.resultadosPorGrupo) {
        const g = results.resultadosPorGrupo[grupo];
        const collapseId = `collapseGroup${index++}`;
        const indicador = grupoIndicadores[g.statusGrupo] || "";
        gruposHTML += `
          <div class="grupo-result mb-3">
            <div class="d-flex justify-content-between align-items-center">
              <h5 class="mb-0">${grupo} - ${g.statusGrupo} <span class="grupo-indicador">${indicador}</span></h5>
              <button class="btn btn-sm btn-outline-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#${collapseId}">
                Ver detalhes
              </button>
            </div>
            <div class="collapse mt-2" id="${collapseId}">
              <p><strong>M√©dia de Satisfa√ß√£o:</strong> ${g.media.toFixed(1)}</p>
        `;
        g.itens.forEach(i => {
          gruposHTML += `
            <div class="item-result">
              <strong>${i.item} - ${i.status}</strong><br>
              <em>${textos[i.item] ? textos[i.item][i.status] || "" : ""}</em>
            </div>
          `;
        });
        gruposHTML += `</div></div>`;
      }
      return htmlContent + gruposHTML;
    }

    // Fun√ß√£o para compartilhar resultado
    function shareResult(arquetipo) {
      if (navigator.share) {
        navigator.share({
          title: 'Resultado do Teste de Alinhamento',
          text: 'Meu resultado: ' + arquetipo,
          url: window.location.href
        }).catch(err => console.error(err));
      } else {
        alert('Compartilhamento n√£o suportado neste dispositivo.');
      }
    }

    // Fun√ß√£o principal para calcular e exibir os resultados
    function calcularResultados() {
      if (!allFieldsFilled()) {
        document.getElementById('resultados').innerHTML = '<div class="alert alert-warning">Preencher o teste acima para ver o resultado</div>';
        return;
      }
      const resultadosPorGrupo = {};
      const resumo = { baixoRetorno: [], negligenciado: [], manter: [], conflito: [] };
      areas.forEach(area => {
        const itensDoGrupo = [];
        area.itens.forEach(item => {
          const row = document.querySelector(`tr[data-area="${item}"]`);
          const selects = row.querySelectorAll('select');
          const imp = Number(selects[0].value);
          const sat = Number(selects[1].value);
          const temp = Number(selects[2].value);
          const status = getItemStatus(imp, sat, temp);
          row.querySelector('.status').innerHTML = `${statusEmojis[status]} ${status}`;
          itensDoGrupo.push({ item, status, sat });
          switch(status) {
            case "Baixo retorno": resumo.baixoRetorno.push(item); break;
            case "Negligenciado": resumo.negligenciado.push(item); break;
            case "Equilibrado": resumo.manter.push(item); break;
            case "Conflito interno": resumo.conflito.push(item); break;
          }
        });
        const statusGrupo = getStatusGrupo(itensDoGrupo);
        const mediaSatisfacaoGrupo = getMediaSatisfacao(itensDoGrupo);
        resultadosPorGrupo[area.grupo] = { itens: itensDoGrupo, statusGrupo, media: mediaSatisfacaoGrupo };
      });

      // C√°lculo das m√©dias globais
      const mV = resultadosPorGrupo["V√≠nculos"].media || 0;
      const mI = resultadosPorGrupo["Independ√™ncia"].media || 0;
      const mD = resultadosPorGrupo["Dire√ß√£o"].media || 0;
      const mA = resultadosPorGrupo["Acolhimento"].media || 0;
      const diffVI = mV - mI;
      const diffDA = mD - mA;
      const arquetipo = getArquetipo(diffVI, diffDA);
      const textoArquetipo = arquetipoTextos[arquetipo] || "";
      const arqImg = arquetipoImages[arquetipo] || "";
      const subArquetipos = calcularSubArquetipo(); // Agora retorna um array
      // Cria um objeto com os textos dos subarqu√©tipos para facilitar o acesso
      const textoSubMap = subArquetipoTextos;
      const finalHtml = buildFinalHtml({ resultadosPorGrupo, resumo }, mV, mI, mD, mA, arquetipo, textoArquetipo, arqImg, subArquetipos, textoSubMap);
      document.getElementById('resultados').innerHTML = finalHtml;

      const shareBtn = document.getElementById('shareBtn');
      if (shareBtn) { shareBtn.addEventListener('click', () => shareResult(arquetipo)); }
    }

    document.getElementById('btnCalcular').addEventListener('click', calcularResultados);
    criarForm();
  </script>
</body>
</html>
